# 第二章 数据表示、寻址方式与指令系统


##  一、 数据表示

1、数据表示与数据结构
  - `数据表示`指的是能由机器硬件直接识别和引用的数据类型。
    - `定点数据`
    - `逻辑数据`
    - `浮点数据`
  - 串、队、栈、向量、阵列、链表、树、图等是软件系统所要处理的各种`数据结构`，它们反映了面向应用所要用到的各种数据元素或信息单元之间的结构关系。
    - `数据结构和数据表示是软、硬件的交界面`
  - `机器的运算类指令和运算器结构主要是按机器有什么样的数据表示来确定的`。
    - <img src="/learn_1.png">

2、高级数据表示
  - ★`定义数据表示`
    - 自定义（Self-defining）数据表示包括`标志符`数据表示和`数据描述符`两类。
    - `标志符`
      - `为了缩短高级语言与机器语言的这种语义差距， 可让机器中的每个数据如下所示，都带有类型标志位`
      - `标志符数据`表示的主要优点为：
        - ①简化了指令系统和程序设计。
        - ②简化了编译程序。
        - ③便于实现一致性校验。
        - ④能由硬件自动完成数据类型的变换。 
    - 数据描述符
      - 为进一步减少标志符所占的存贮空间，对于向量、数组、记录等数据，由于每个元素具有相同的属性，为此发展出数据描述符 
  
  - 向量、数组数据表示
    - 含义：`有序排列的数据元素`称为`向量`（向量数据）
    - `向量数据的三要素`：
      - ①`基地址`：存放第一个向量数据的地址；
      - ②`向量长度`：向量数据个数；
      - ③`位移量`：与基地址的距离。
  
  - `堆栈数据`表示
    - （1）有若干高速寄存器组成的硬件堆栈，并附加控制电路让它与主存中的堆栈区在逻辑上组成一个整体，使堆栈的访问速度是寄存器的，堆栈的容量是主存的。
    - （2）有很丰富的堆栈操作类指令且功能很强， 直接可对堆栈中的数据进行各种运算和处理。
    - （3）有力地支持高级语言程序的编译。假定有算术赋值语句F=A*B+C/(D-E)，可以很容易通过用逆波兰表达式AB*CDE-/+
    - （4）有力地支持子程序的嵌套和递归调用。

3、引入数据表示的原则
  - （1）一方面是看系统的效率有否提高，即是否减少了实现时间和所需的存贮空间。
  - （2）另一方面是看引入这种数据表示后， 其通用性和利用率是否高。
  
4、浮点数尾数基数大小和下溢处理方法的选择
  - 浮点数尾数基值的选择
  - 浮点数一般采用`阶码`和`尾数`两部分表示。由于计算机字长有限，浮点数只能表示出`数轴上分散于正、负两个区间上`的`部分离散值`
  - 使用`rm`来表示其`浮点数尾数的基`，rm使用`二进制`

    - 根据浮点位数的基，求规格化尾数的值
      - 最小尾数公式：1 × r (-1 m)
      - 最大尾数公式：1 - 1 × r (-m' m)

  - ★浮点数尾数的下溢处理办法
    - 截断法（最简单）
    - 舍入法
    - 恒置'1'法
    - 查表舍入法