# 第五章 标量处理机


##  一、 重叠方式
加快标量处理机的方法有两种：一是通过选用高速的器件，采用更好的运算方法，从而加快每条机器指令的解释。二是通过重叠和流水的方式来加快解释的速度。

1、重叠方式
   - 重叠方式
     - 重叠原理与一次重叠
     - <img src="/learn_4.png">
     - 顺序解释：控制简单，但速度有限
     - 重叠解释：不同指令在时间上重叠解释，不能加快一条指令的解释，但加快相邻多条指令的解释
     - 实现重叠解释必须要在计算机组成上满足以下要求：
       - 1）要解决访主存的冲突；
       - 2）要解决"分析"与"执行"操作的并行；
       - 3）要解决"分析"与"执行"操作控制上的同步；"一次重叠"是指`指令分析部件`和`指令执行部件`任何时候都只有相邻两条指令在重叠解释的方式；
       - 4）要解决指令间各种相关的处理。
 
 2、流水方式
   - 基本概念
     - 流水与重叠在概念上没有差别，二者的区别在于"一次重叠"是把一条指令的解释分成两个子过程，而流水则是分为更多个子过程
   - 流水的分类★
     - 1）依据向下扩展和向上扩展的思路，可分为计算机功能子过程的流水线和处理机间的流水线。
     - 2）从流水具有功能的多少，可分为单功能流水线和多功能流水线。
       - 单功能流水：只能实现单一功能的流水，要完成多功能的流水将多个单功能流水组合。
       - 多功能流水：同一流水线的各个段之间可以多种不同的连接方式，以实现不同的功能。
     - 3）从计算机所具有的数据表示，分为标量流水和向量流水。
     - 4）从流水线中各功能段之间是否有反馈回路，分为线形流水和非线性流水。

## 二、标量流水线的主要性能
1、吞吐量Tp
  - 吞吐率是流水线单位时间里能流出的任务数或结果数。吞吐率受限于流水线中最慢子过程所需要的时间。称`流水线中经过时间最长的子过程为瓶颈子过程`。
    - 消除瓶颈的方法有两种：一是将瓶颈子过程再细分，二是通过重复设置多套瓶颈段并联，让他们交叉并行
   - <img src="/learn_5.png">
2、加速比Sp
3、效率
   - <img src="/learn_6.png">


## 指令级高级高度并行的超级处理机

1、超量处理机
   - 标量流水机和超标量流水机
     - 常规的标量流水线单处理机是在每个Δt期间解释完一条指令，称这种流水机的度m=1。
     - 超标量处理机采用多指令流水线，每个Δt同时流出m条指令，称`度`为m。
     - - <img src="/learn_7.png">
2、超长指令字处理机
   - 超长指令字结构是将水平型微码和超标量处理两者相结合。

3、超流水线处理机
   - 超流水线处理机不同于超标量处理机和VLIW处理机，每个仍只流出一条指令，但它的值小，一台度为m的超流水线处理机的只是基本机器周期Δt的1/m。
4、超标量超流水线处理机
   - 超标量超流水线处理机是超标量流水线与超流水线处理机的结合。